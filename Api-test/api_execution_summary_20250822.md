# Ringkasan Eksekusi API - SiPresensi\nTanggal: Friday, August 22, 2025\n\n## 1. Login sebagai Guru\n```bash\ncurl -X POST http://127.0.0.1:8000/api/auth/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"nisn_nip_nik\": \"2001\", \"password\": \"password\"}'\n```\n\n**Response:**\nBerhasil mendapatkan token: `1|GxQ1uaUaz2BV4mweDoPvvQXuTwyDhRXvrmSwjY7l0bae28c7`\n\n## 2. Dashboard Guru\n```bash\ncurl -X GET http://127.0.0.1:8000/api/dashboard \\\n  -H \"Authorization: Bearer 1|GxQ1uaUaz2BV4mweDoPvvQXuTwyDhRXvrmSwjY7l0bae28c7\" \\\n  -H \"Content-Type: application/json\"\n```\n\n**Response:**\nBerhasil menampilkan data dashboard untuk guru.\n\n## 3. Daftar Kelas\n```bash\ncurl -X GET http://127.0.0.1:8000/api/classes \\\n  -H \"Authorization: Bearer 1|GxQ1uaUaz2BV4mweDoPvvQXuTwyDhRXvrmSwjY7l0bae28c7\" \\\n  -H \"Content-Type: application/json\"\n```\n\n**Response:**\nBerhasil menampilkan daftar kelas.\n\n## 4. Absensi Siswa dengan Input Manual NISN\n```bash\ncurl -X POST http://127.0.0.1:8000/api/student-attendance/scan-qr \\\n  -H \"Authorization: Bearer 1|GxQ1uaUaz2BV4mweDoPvvQXuTwyDhRXvrmSwjY7l0bae28c7\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"nisn_nip_nik\": \"1001\",\n    \"class_id\": 1,\n    \"latitude\": -6.123456,\n    \"longitude\": 106.876543,\n    \"accuracy\": 50\n  }'\n```\n\n**Response:**\nBerhasil absen untuk siswa Andi Pratama (ID: 1).\n\n## 5. Cek Status Absensi Kelas\n```bash\ncurl -X GET \"http://127.0.0.1:8000/api/student-attendance/class-status/2?date=2025-08-22\" \\\n  -H \"Authorization: Bearer 1|GxQ1uaUaz2BV4mweDoPvvQXuTwyDhRXvrmSwjY7l0bae28c7\" \\\n  -H \"Content-Type: application/json\"\n```\n\n**Response:**\nMenampilkan status absensi untuk kelas X IPS 2, terlihat bahwa Citra Dewi (ID: 3) belum absen.\n\n## 6. Absensi Massal\n```bash\ncurl -X POST http://127.0.0.1:8000/api/student-attendance/bulk \\\n  -H \"Authorization: Bearer 1|GxQ1uaUaz2BV4mweDoPvvQXuTwyDhRXvrmSwjY7l0bae28c7\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"class_id\": 2\n  }'\n```\n\n**Response:**\nBerhasil melakukan absensi massal untuk kelas X IPS 2, Citra Dewi (ID: 3) berhasil diabsen.\n\n## 7. Mendapatkan QR Code Dinamis\n```bash\ncurl -X GET http://127.0.0.1:8000/api/qrcode/dynamic \\\n  -H \"Authorization: Bearer 1|GxQ1uaUaz2BV4mweDoPvvQXuTwyDhRXvrmSwjY7l0bae28c7\" \\\n  -H \"Content-Type: application/json\"\n```\n\n**Response:**\nBerhasil mendapatkan token QR: `L4M8S1T6U3`\n\n## 8. Absen Masuk (Checkin) dengan QR Code\n```bash\ncurl -X POST http://127.0.0.1:8000/api/qrcode/verify \\\n  -H \"Authorization: Bearer 1|GxQ1uaUaz2BV4mweDoPvvQXuTwyDhRXvrmSwjY7l0bae28c7\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"user_id\": 4,\n    \"type\": \"checkin\",\n    \"qr_token\": \"L4M8S1T6U3\",\n    \"latitude\": -6.123456,\n    \"longitude\": 106.876543,\n    \"accuracy\": 50,\n    \"photo\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==\"\n  }'\n```\n\n**Response:**\nBerhasil absen masuk (checkin) untuk guru dengan user ID 4.\n\n## 9. Mendapatkan QR Code Dinamis Baru untuk Absen Keluar\n```bash\ncurl -X GET http://127.0.0.1:8000/api/qrcode/dynamic \\\n  -H \"Authorization: Bearer 1|GxQ1uaUaz2BV4mweDoPvvQXuTwyDhRXvrmSwjY7l0bae28c7\" \\\n  -H \"Content-Type: application/json\"\n```\n\n**Response:**\nBerhasil mendapatkan token QR baru: `Z7K3N9Q5R2`\n\n## 10. Absen Keluar (Checkout) dengan QR Code\n```bash\ncurl -X POST http://127.0.0.1:8000/api/attendance/checkout \\\n  -H \"Authorization: Bearer 1|GxQ1uaUaz2BV4mweDoPvvQXuTwyDhRXvrmSwjY7l0bae28c7\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"qr_token\": \"Z7K3N9Q5R2\",\n    \"latitude\": -6.123456,\n    \"longitude\": 106.876543,\n    \"accuracy\": 50,\n    \"photo\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==\"\n  }'\n```\n\n**Response:**\nBerhasil absen keluar (checkout) untuk guru dengan user ID 4.\n\n## 11. Riwayat Absensi\n```bash\ncurl -X GET http://127.0.0.1:8000/api/attendance/history \\\n  -H \"Authorization: Bearer 1|GxQ1uaUaz2BV4mweDoPvvQXuTwyDhRXvrmSwjY7l0bae28c7\" \\\n  -H \"Content-Type: application/json\"\n```\n\n**Response:**\nBerhasil menampilkan riwayat absensi yang menunjukkan data checkin dan checkout.\n\n## 12. Pengajuan Izin\n```bash\ncurl -X POST http://127.0.0.1:8000/api/leaves \\\n  -H \"Authorization: Bearer 1|GxQ1uaUaz2BV4mweDoPvvQXuTwyDhRXvrmSwjY7l0bae28c7\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"leave_type\": \"sakit\",\n    \"start_date\": \"2025-08-23\",\n    \"end_date\": \"2025-08-23\",\n    \"reason\": \"Sakit flu\"\n  }'\n```\n\n**Response:**\nBerhasil mengajukan izin sakit untuk tanggal 2025-08-23.\n\n## 13. Daftar Pengumuman\n```bash\ncurl -X GET http://127.0.0.1:8000/api/announcements \\\n  -H \"Authorization: Bearer 1|GxQ1uaUaz2BV4mweDoPvvQXuTwyDhRXvrmSwjY7l0bae28c7\" \\\n  -H \"Content-Type: application/json\"\n```\n\n**Response:**\nBerhasil menampilkan daftar pengumuman.\n\n## 14. Profil Pengguna\n```bash\ncurl -X GET http://127.0.0.1:8000/api/profile \\\n  -H \"Authorization: Bearer 1|GxQ1uaUaz2BV4mweDoPvvQXuTwyDhRXvrmSwjY7l0bae28c7\" \\\n  -H \"Content-Type: application/json\"\n```\n\n**Response:**\nBerhasil menampilkan profil pengguna.\n\n## 15. Login sebagai Admin\n```bash\ncurl -X POST http://127.0.0.1:8000/api/auth/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"nisn_nip_nik\": \"5001\", \"password\": \"password\"}'\n```\n\n**Response:**\nBerhasil mendapatkan token admin: `2|QDsxqbWKzRMevkZ8nTXdbmF3ZPn6jk67lbfof3QE587f0545`\n\n## 16. Daftar Pengguna (Admin Only)\n```bash\ncurl -X GET http://127.0.0.1:8000/api/users \\\n  -H \"Authorization: Bearer 2|QDsxqbWKzRMevkZ8nTXdbmF3ZPn6jk67lbfof3QE587f0545\" \\\n  -H \"Content-Type: application/json\"\n```\n\n**Response:**\nBerhasil menampilkan daftar semua pengguna.\n\n## 17. Dashboard Admin\n```bash\ncurl -X GET http://127.0.0.1:8000/api/dashboard \\\n  -H \"Authorization: Bearer 2|QDsxqbWKzRMevkZ8nTXdbmF3ZPn6jk67lbfof3QE587f0545\" \\\n  -H \"Content-Type: application/json\"\n```\n\n**Response:**\nBerhasil menampilkan data dashboard untuk admin.\n\n## 18. Login sebagai Kepala Sekolah\n```bash\ncurl -X POST http://127.0.0.1:8000/api/auth/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"nisn_nip_nik\": \"4001\", \"password\": \"password\"}'\n```\n\n**Response:**\nBerhasil mendapatkan token kepala sekolah: `3|BwnaLnM3ulfTGsqI8f4UI9YEcqtamhA4GUs3ROPm23a4cf48`\n\n## 19. Dashboard Kepala Sekolah\n```bash\ncurl -X GET http://127.0.0.1:8000/api/dashboard \\\n  -H \"Authorization: Bearer 3|BwnaLnM3ulfTGsqI8f4UI9YEcqtamhA4GUs3ROPm23a4cf48\" \\\n  -H \"Content-Type: application/json\"\n```\n\n**Response:**\nBerhasil menampilkan data dashboard untuk kepala sekolah.